<?xml version="1.0" encoding="utf-8"?>
<!--
	   Created by: Yi's Solutions
			Learn: https://fengyi.tel/solutions
				   https://github.com/ilikeyi/solutions

	 Architecture: Arm64, x64
	Applicable to: Desktop
	Language type: Single
	     Solution: Consumer.UEFI.xml

	Template GUID: d17a4536-5f1c-491f-a181-49b691e7fb00
	GUID: {GUID}
-->
<unattend xmlns="urn:schemas-microsoft-com:unattend">
	<settings pass="windowsPE">
		<component name="Microsoft-Windows-International-Core-WinPE" processorArchitecture="amd64" publicKeyToken="31bf3856ad364e35" language="neutral" versionScope="nonSxS" xmlns:wcm="http://schemas.microsoft.com/WMIConfig/2002/State" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<SetupUILanguage>
				<UILanguage>{ImageLanguage}</UILanguage>
				<WillShowUI>OnError</WillShowUI>
			</SetupUILanguage>
			<InputLocale>{ImageLanguage}</InputLocale>
			<SystemLocale>{ImageLanguage}</SystemLocale>
			<UILanguage>{ImageLanguage}</UILanguage>
			<UILanguageFallback>{ImageLanguage}</UILanguageFallback>
			<UserLocale>{ImageLanguage}</UserLocale>
		</component>
		<component name="Microsoft-Windows-International-Core-WinPE" processorArchitecture="arm64" publicKeyToken="31bf3856ad364e35" language="neutral" versionScope="nonSxS" xmlns:wcm="http://schemas.microsoft.com/WMIConfig/2002/State" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<SetupUILanguage>
				<UILanguage>{ImageLanguage}</UILanguage>
				<WillShowUI>OnError</WillShowUI>
			</SetupUILanguage>
			<InputLocale>{ImageLanguage}</InputLocale>
			<SystemLocale>{ImageLanguage}</SystemLocale>
			<UILanguage>{ImageLanguage}</UILanguage>
			<UILanguageFallback>{ImageLanguage}</UILanguageFallback>
			<UserLocale>{ImageLanguage}</UserLocale>
		</component>
		<component name="Microsoft-Windows-Setup" processorArchitecture="amd64" publicKeyToken="31bf3856ad364e35" language="neutral" versionScope="nonSxS" xmlns:wcm="http://schemas.microsoft.com/WMIConfig/2002/State" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<DiskConfiguration>
				<Disk wcm:action="add">
					<DiskID>0</DiskID>
					<WillWipeDisk>true</WillWipeDisk>
					<CreatePartitions>
						<!-- Windows RE Tools partition -->
						<CreatePartition wcm:action="add">
							<Order>1</Order>
							<Type>Primary</Type>
							<Size>350</Size>
						</CreatePartition>
						<!-- System partition (ESP) -->
						<CreatePartition wcm:action="add">
							<Order>2</Order>
							<Type>EFI</Type>
							<Size>100</Size>
						</CreatePartition>
						<!-- Microsoft reserved partition (MSR) -->
						<CreatePartition wcm:action="add">
							<Order>3</Order>
							<Type>MSR</Type>
							<Size>128</Size>
						</CreatePartition>
						<!-- Windows partition -->
						<CreatePartition wcm:action="add">
							<Order>4</Order>
							<Type>Primary</Type>
							<Extend>true</Extend>
						</CreatePartition>
					</CreatePartitions>
					<ModifyPartitions>
						<!-- Windows RE Tools partition -->
						<ModifyPartition wcm:action="add">
							<Order>1</Order>
							<PartitionID>1</PartitionID>
							<Label>WINRE</Label>
							<Format>NTFS</Format>
							<TypeID>DE94BBA4-06D1-4D40-A16A-BFD50179D6AC</TypeID>
						</ModifyPartition>
						<!-- System partition (ESP) -->
						<ModifyPartition wcm:action="add">
							<Order>2</Order>
							<PartitionID>2</PartitionID>
							<Label>System</Label>
							<Format>FAT32</Format>
						</ModifyPartition>
						<!-- MSR partition does not need to be modified -->
						<ModifyPartition wcm:action="add">
							<Order>3</Order>
							<PartitionID>3</PartitionID>
						</ModifyPartition>
						<!-- Windows partition -->
						<ModifyPartition wcm:action="add">
							<Order>4</Order>
							<PartitionID>4</PartitionID>
							<Label>OS</Label>
							<Letter>C</Letter>
							<Format>NTFS</Format>
						</ModifyPartition>
					</ModifyPartitions>
				</Disk>
			</DiskConfiguration>
			<ImageInstall>
				<OSImage>
					<InstallTo>
						<DiskID>0</DiskID>
						<PartitionID>4</PartitionID>
					</InstallTo>
					{UnattendIndex}
				</OSImage>
			</ImageInstall>
			<Diagnostics>
				<OptIn>false</OptIn>
			</Diagnostics>
			<DynamicUpdate>
				<Enable>false</Enable>
				<WillShowUI>OnError</WillShowUI>
			</DynamicUpdate>
			<UserData>
				<ProductKey>
					{InitProductKey}
					<WillShowUI>OnError</WillShowUI>
				</ProductKey>
				<AcceptEula>true</AcceptEula>
			</UserData>

			<!-- Local PE deployment Command -->
{WindowsPESetupFirstLogonCommands}

		</component>
		<component name="Microsoft-Windows-Setup" processorArchitecture="arm64" publicKeyToken="31bf3856ad364e35" language="neutral" versionScope="nonSxS" xmlns:wcm="http://schemas.microsoft.com/WMIConfig/2002/State" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<DiskConfiguration>
				<Disk wcm:action="add">
					<DiskID>0</DiskID>
					<WillWipeDisk>true</WillWipeDisk>
					<CreatePartitions>
						<!-- Windows RE Tools partition -->
						<CreatePartition wcm:action="add">
							<Order>1</Order>
							<Type>Primary</Type>
							<Size>350</Size>
						</CreatePartition>
						<!-- System partition (ESP) -->
						<CreatePartition wcm:action="add">
							<Order>2</Order>
							<Type>EFI</Type>
							<Size>100</Size>
						</CreatePartition>
						<!-- Microsoft reserved partition (MSR) -->
						<CreatePartition wcm:action="add">
							<Order>3</Order>
							<Type>MSR</Type>
							<Size>128</Size>
						</CreatePartition>
						<!-- Windows partition -->
						<CreatePartition wcm:action="add">
							<Order>4</Order>
							<Type>Primary</Type>
							<Extend>true</Extend>
						</CreatePartition>
					</CreatePartitions>
					<ModifyPartitions>
						<!-- Windows RE Tools partition -->
						<ModifyPartition wcm:action="add">
							<Order>1</Order>
							<PartitionID>1</PartitionID>
							<Label>WINRE</Label>
							<Format>NTFS</Format>
							<TypeID>DE94BBA4-06D1-4D40-A16A-BFD50179D6AC</TypeID>
						</ModifyPartition>
						<!-- System partition (ESP) -->
						<ModifyPartition wcm:action="add">
							<Order>2</Order>
							<PartitionID>2</PartitionID>
							<Label>System</Label>
							<Format>FAT32</Format>
						</ModifyPartition>
						<!-- MSR partition does not need to be modified -->
						<ModifyPartition wcm:action="add">
							<Order>3</Order>
							<PartitionID>3</PartitionID>
						</ModifyPartition>
						<!-- Windows partition -->
						<ModifyPartition wcm:action="add">
							<Order>4</Order>
							<PartitionID>4</PartitionID>
							<Label>OS</Label>
							<Letter>C</Letter>
							<Format>NTFS</Format>
						</ModifyPartition>
					</ModifyPartitions>
				</Disk>
			</DiskConfiguration>
			<ImageInstall>
				<OSImage>
					<InstallTo>
						<DiskID>0</DiskID>
						<PartitionID>4</PartitionID>
					</InstallTo>
					{UnattendIndex}
				</OSImage>
			</ImageInstall>
			<Diagnostics>
				<OptIn>false</OptIn>
			</Diagnostics>
			<DynamicUpdate>
				<Enable>false</Enable>
				<WillShowUI>OnError</WillShowUI>
			</DynamicUpdate>
			<UserData>
				<ProductKey>
					{InitProductKey}
					<WillShowUI>OnError</WillShowUI>
				</ProductKey>
				<AcceptEula>true</AcceptEula>
			</UserData>

			<!-- Local PE deployment Command -->
{WindowsPESetupFirstLogonCommands}

		</component>
	</settings>
	<settings pass="oobeSystem">
		<component name="Microsoft-Windows-International-Core" processorArchitecture="amd64" publicKeyToken="31bf3856ad364e35" language="neutral" versionScope="nonSxS" xmlns:wcm="http://schemas.microsoft.com/WMIConfig/2002/State" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<InputLocale>{ImageLanguage}</InputLocale>
			<SystemLocale>{ImageLanguage}</SystemLocale>
			<UILanguage>{ImageLanguage}</UILanguage>
			<UILanguageFallback>{ImageLanguage}</UILanguageFallback>
			<UserLocale>{ImageLanguage}</UserLocale>
		</component>
		<component name="Microsoft-Windows-International-Core" processorArchitecture="arm64" publicKeyToken="31bf3856ad364e35" language="neutral" versionScope="nonSxS" xmlns:wcm="http://schemas.microsoft.com/WMIConfig/2002/State" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<InputLocale>{ImageLanguage}</InputLocale>
			<SystemLocale>{ImageLanguage}</SystemLocale>
			<UILanguage>{ImageLanguage}</UILanguage>
			<UILanguageFallback>{ImageLanguage}</UILanguageFallback>
			<UserLocale>{ImageLanguage}</UserLocale>
		</component>
		<component name="Microsoft-Windows-Shell-Setup" processorArchitecture="amd64" publicKeyToken="31bf3856ad364e35" language="neutral" versionScope="nonSxS" xmlns:wcm="http://schemas.microsoft.com/WMIConfig/2002/State" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<OOBE>
{InitOOBESetting}
			</OOBE>

			<!-- initial account -->
{InitUsers}

			<!-- Automatic login by default -->
{InitAutoLogon}

			<!-- Local deployment Command -->
{WindowsShellSetupFirstLogonCommands}

{TimeZone}
		</component>
		<component name="Microsoft-Windows-Shell-Setup" processorArchitecture="arm64" publicKeyToken="31bf3856ad364e35" language="neutral" versionScope="nonSxS" xmlns:wcm="http://schemas.microsoft.com/WMIConfig/2002/State" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<OOBE>
{InitOOBESetting}
			</OOBE>

			<!-- initial account -->
{InitUsers}

			<!-- Automatic login by default -->
{InitAutoLogon}

			<!-- Local deployment Command -->
{WindowsShellSetupFirstLogonCommands}

{TimeZone}
		</component>
	</settings>
</unattend>